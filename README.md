Similar to the Python version, but in Go.
